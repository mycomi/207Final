(this.webpackJsonplab10=this.webpackJsonplab10||[]).push([[0],{48:function(e,a,t){e.exports=t(73)},71:function(e,a,t){},73:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),s=t(42),c=t.n(s),r=(t(72),t(12)),o=t(13),i=t(16),m=t(17),u=t(18),d=t(20),h=t(19),b=(t(36),t(30)),p=t.n(b),E=(t(64),t(66),t(74),{apiKey:"AIzaSyCOIIF3x54B5T1gXm7h_iRPBpQIQXVh1lM",authDomain:"lab7-c0aa6.firebaseapp.com",databaseURL:"https://lab7-c0aa6.firebaseio.com",projectId:"lab7-c0aa6",storageBucket:"lab7-c0aa6.appspot.com",messagingSenderId:"476851765338",appId:"1:476851765338:web:4aaa7495404ab7c2df9863",measurementId:"G-Z0664CHSS6"});p.a.apps.length||p.a.initializeApp(E);var g=p.a,v=function(e){Object(d.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).state={email:"",password:"",messages:[],message:"",currentUser:null,image:"",comment:""},n.logout=n.logout.bind(Object(u.a)(n)),n}return Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.auth().onAuthStateChanged((function(a){a&&(e.setState({currentUser:a}),g.firestore().collection("users").doc(a.email).collection("messages").onSnapshot((function(a){e.setState({messages:a})})))}))}},{key:"logout",value:function(){var e=this;g.auth().signOut().then((function(a){e.setState({currentUser:null})}))}},{key:"render",value:function(){var e=this.state;e.message;return e.currentUser?l.a.createElement("div",null,l.a.createElement("h1",null," Hi "),l.a.createElement("button",{className:"button is-light",onClick:this.logout},"Logout")):l.a.createElement("div",{className:"control"},l.a.createElement(r.b,{to:"/register"},l.a.createElement("button",{className:"button is-link"},"Register")),l.a.createElement(r.b,{to:"/login"},l.a.createElement("button",{className:"button is-link"},"Login")))}}]),t}(l.a.Component),f=t(47),N=function(e){Object(d.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).onChange=function(e){var a=e.target,t=a.name,l=a.value;n.setState(Object(f.a)({},t,l))},n.onSubmit=function(e){e.preventDefault();var a=n.state,t=a.email,l=a.password;g.auth().signInWithEmailAndPassword(t,l).then((function(e){n.setState({currentUser:e.user})})).catch((function(e){n.setState({message:e.message})}))},n.state={email:"",password:"",messages:[],message:"",currentUser:null,image:"",comment:""},n.logout=n.logout.bind(Object(u.a)(n)),n}return Object(m.a)(t,[{key:"logout",value:function(){var e=this;g.auth().signOut().then((function(a){e.setState({currentUser:null})}))}},{key:"render",value:function(){var e=this.state;e.message;return e.currentUser?l.a.createElement("div",null,l.a.createElement(r.b,{to:"/"},l.a.createElement("button",{className:"button is-link"},"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e40\u0e27\u0e47\u0e1a\u0e44\u0e0b\u0e15\u0e4c"))):l.a.createElement("section",{className:"section container"},l.a.createElement("div",{className:"columns is-centered"},l.a.createElement("div",{className:"column is-half"},l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label",htmlFor:""},"Email"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",type:"email",name:"email",onChange:this.onChange}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label",htmlFor:""},"Password"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",type:"password",name:"password",onChange:this.onChange}))),l.a.createElement("div",{className:"field is-grouped"},l.a.createElement("div",{className:"control"},l.a.createElement("button",{className:"button is-link"},"Login")))))))}}]),t}(l.a.Component),S=function(e){Object(d.a)(t,e);var a=Object(h.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement("section",{className:"section container"},l.a.createElement("div",{className:"columns is-centered"},l.a.createElement("div",{className:"column is-half"},l.a.createElement("form",{onSubmit:this.onSubmit,action:"/api/users",method:"post"},l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label",htmlFor:""},"Name"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",type:"text",name:"name",onChange:this.onChange}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label",htmlFor:""},"Email"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",type:"email",name:"email",onChange:this.onChange}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label",htmlFor:""},"Password"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",type:"password",name:"password",onChange:this.onChange}))),l.a.createElement("div",{className:"field is-grouped"},l.a.createElement("div",{className:"control"},l.a.createElement("button",{className:"button is-link"},"Submit")))))))}}]),t}(l.a.Component),C=function(){return l.a.createElement("div",null,l.a.createElement(o.a,{path:"/",exact:!0,component:v}),l.a.createElement(o.a,{path:"/register",exact:!0,component:S}),l.a.createElement(o.a,{path:"/login",exact:!0,component:N}))};t(71);c.a.render(l.a.createElement(r.a,null," ",l.a.createElement(C,null)," "),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.79e81bf0.chunk.js.map